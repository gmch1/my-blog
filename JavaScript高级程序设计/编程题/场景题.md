#### 输入框输入中文的情况

- 在浏览器监测input事件时，如果输入中文，拼音输入法的符号会一并被输入进去

- 在vue中，由于使用的是双向绑定，事件机制对这点进行了修复，因而框架层面已经解决了这个问题，但是如果使用原生的，还需要自行处理这个问题。

  ##### 解决方法

  - 监听componsitionstart事件，开始的时候即为进行中文输入，在这里设置一个标志位，input事件进行一个判断

  - ```html
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
      </head>
      <body>
        <input type="text" id="input" />
        <script>
          function $(id) {
            return document.getElementById(id);
          }
          function log(value) {
            console.log(value);
          }
          let input = $('input');
          let value;
          let flag = false;
          input.addEventListener('compositionstart', (e) => {
            flag = true;
          });
          input.addEventListener('compositionend', (e) => {
            flag = false;
            value = e.target.value;
            log(value);
          });
          input.addEventListener('input', (e) => {
            if (flag) return;
            value = e.target.value;
            log(value);
          });
        </script>
      </body>
    </html>
    ```

    

#### 输入框输入发送请求，先发送的后到达如何处理

- 设置一个标志位，可以实际测试一下

#### 接收一个promise数组，顺序执行